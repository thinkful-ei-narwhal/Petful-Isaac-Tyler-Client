(this["webpackJsonppetful-client"]=this["webpackJsonppetful-client"]||[]).push([[0],{23:function(e,t,n){e.exports=n(36)},24:function(e,t,n){},26:function(e,t,n){},27:function(e,t,n){},36:function(e,t,n){"use strict";n.r(t);n(24);var a=n(5),o=n(6),c=n(8),r=n(7),i=n(9),s=n(0),l=n.n(s),u=n(10),d=n(13),p="https://gentle-lowlands-66849.herokuapp.com/api",m={getPeople:function(){return fetch("".concat(p,"/people")).then((function(e){return e.json()})).then((function(e){return e.people}))},addMe:function(e){return fetch("".concat(p,"/people"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e})}).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))}))},deleteMe:function(){return fetch("".concat(p,"/people"),{method:"DELETE",headers:{"Content-Type":"application/json"}}).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))}))}},h={getDog:function(){return fetch("".concat(p,"/pets")).then((function(e){return e.json()})).then((function(e){return e.dog}))},getCat:function(){return fetch("".concat(p,"/pets")).then((function(e){return e.json()})).then((function(e){return e.cat}))},delDog:function(){return fetch("".concat(p,"/pets?type=dog"),{method:"DELETE"}).then((function(e){return e.ok?Promise.resolve():e.json().then((function(e){return Promise.reject(e)}))}))},delCat:function(){return fetch("".concat(p,"/pets?type=cat"),{method:"DELETE"}).then((function(e){return e.ok?Promise.resolve():e.json().then((function(e){return Promise.reject(e)}))}))}},f=Object(s.createContext)({name:null,currentDog:{},currentCat:{},peopleList:[],isUserTurn:!1}),g=f,D=function(e){function t(){var e,n;Object(a.a)(this,t);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return(n=Object(c.a)(this,(e=Object(r.a)(t)).call.apply(e,[this].concat(i)))).state={name:null,currentDog:{},currentCat:{},peopleList:[],isUserTurn:!1},n.setUserTurn=function(e){n.setState({isUserTurn:e})},n.setCat=function(e){n.setState({currentCat:e})},n.setDog=function(e){n.setState({currentDog:e})},n.setPeople=function(e){n.setState({peopleList:e})},n.addPerson=function(e){n.setState({peopleList:[].concat(Object(d.a)(n.state.peopleList),[e])})},n.deletePerson=function(){var e=n.state.peopleList;m.deleteMe(),e.shift(),n.setState({peopleList:Object(d.a)(e)})},n.deleteDog=function(){h.delDog().then((function(){h.getDog().then((function(e){console.log(e),n.setDog(e)}))}))},n.deleteCat=function(){h.delCat().then((function(){h.getCat().then((function(e){n.setCat(e)}))}))},n.submitAddMe=function(e){n.setState({name:e.target.name.value}),m.addMe(e.target.name.value).then((function(e){n.setState({peopleList:[].concat(Object(d.a)(n.state.peopleList),[e.name])})}))},n}return Object(i.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e={name:this.state.name,currentDog:this.state.currentDog,currentCat:this.state.currentCat,peopleList:this.state.peopleList,isUserTurn:this.state.isUserTurn,setCat:this.setCat,setDog:this.setDog,setPeople:this.setPeople,submitAddMe:this.submitAddMe,setUserTurn:this.setUserTurn,deletePerson:this.deletePerson,deleteDog:this.deleteDog,deleteCat:this.deleteCat,addPerson:this.addPerson};return l.a.createElement(f.Provider,{value:e},this.props.children)}}]),t}(s.Component),E=function(e){function t(){var e,n;Object(a.a)(this,t);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return(n=Object(c.a)(this,(e=Object(r.a)(t)).call.apply(e,[this].concat(i)))).state={hiddenCat:!0,hiddenDog:!0},n.unhideCat=function(){n.setState({hiddenCat:!n.state.hiddenCat})},n.unhideDog=function(){n.setState({hiddenDog:!n.state.hiddenDog})},n.dogDetails=function(){return l.a.createElement("div",{className:"dogdetails",hidden:n.hiddenDog},l.a.createElement("p",null,n.context.currentDog.breed),l.a.createElement("p",null,n.context.currentDog.gender),l.a.createElement("p",null,n.context.currentDog.story),l.a.createElement("button",{hidden:!n.context.isUserTurn,className:"landing-btn",onClick:function(){n.context.deleteDog(),n.context.setUserTurn(!1),n.context.deletePerson()}},"Adopt Me!"))},n.catDetails=function(){return l.a.createElement("div",{className:"catdetails",hidden:n.hiddenCat},l.a.createElement("p",null,n.context.currentCat.breed),l.a.createElement("p",null,n.context.currentCat.gender),l.a.createElement("p",null,n.context.currentCat.story),l.a.createElement("button",{className:"landing-btn",hidden:!n.context.isUserTurn,onClick:function(){n.context.deleteCat(),n.context.setUserTurn(!1),n.context.deletePerson()}},"Adopt Me!"))},n}return Object(i.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;h.getDog().then((function(t){return e.context.setDog(t)})),h.getCat().then((function(t){return e.context.setCat(t)}))}},{key:"render",value:function(){return l.a.createElement("div",{className:"landingpage"},l.a.createElement("h2",{className:"landingtitle"},"I want to adopt a..."),l.a.createElement("div",{className:"dogdiv"},l.a.createElement("img",{src:this.context.currentDog.imageURL}),l.a.createElement("p",null,"Name: ".concat(this.context.currentDog.name),","),l.a.createElement("p",null," ","Age: ".concat(this.context.currentDog.age)," "),l.a.createElement("button",{className:"landing-btn",name:"Dog Details",onClick:this.unhideDog},"Dog Details"),!this.state.hiddenDog&&this.dogDetails()),l.a.createElement("div",{className:"catdiv"},l.a.createElement("img",{src:this.context.currentCat.imageURL}),l.a.createElement("p",null,l.a.createElement("p",null,"Name: ".concat(this.context.currentCat.name),","),l.a.createElement("p",null," ","Age: ".concat(this.context.currentCat.age)," ")),l.a.createElement("button",{className:"landing-btn",name:"Cat Details",onClick:this.unhideCat},"Cat Details"),!this.state.hiddenCat&&this.catDetails()))}}]),t}(s.Component);E.contextType=g;n(26);var v=function(e){function t(){return Object(a.a)(this,t),Object(c.a)(this,Object(r.a)(t).apply(this,arguments))}return Object(i.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;m.getPeople().then((function(t){return e.context.setPeople(t)}))}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"people-sidebar"},l.a.createElement("h3",null,"Sign Up List"),l.a.createElement("form",{className:"signup-form",onSubmit:function(t){t.preventDefault(),e.context.submitAddMe(t)}},l.a.createElement("input",{type:"text",className:"signup-name",id:"inputname",name:"name"}),l.a.createElement("input",{type:"submit",className:"signup-btn"})),l.a.createElement("ul",{className:"people-ul"},this.context.peopleList.map((function(e,t){return l.a.createElement("li",{key:t},e)}))))}}]),t}(s.Component);v.contextType=g;var C=v,b=(n(27),function(e){function t(){var e,n;Object(a.a)(this,t);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return(n=Object(c.a)(this,(e=Object(r.a)(t)).call.apply(e,[this].concat(i)))).interval=null,n.counter=0,n.newUsers=["Jennifer Lawrence","Michael Cera","Ricky Gervais","Steve Irwin","Pink Power Ranger"],n.i=0,n.adoptTimer=function(){if(console.log(n.counter),n.context.peopleList[0]==n.context.name&&(console.log(n.context.name),n.context.setUserTurn(!0),m.addMe(n.newUsers[n.i]).then((function(e){n.i++,n.context.addPerson(e.name)})),4==n.i&&clearInterval(n.interval)),0!==n.context.peopleList.length&&!n.context.isUserTurn)return n.counter%2===0?(console.log("first",n.counter%2),n.context.deleteDog(),n.context.deletePerson(),n.counter+=1):(console.log("second",n.counter%2),n.context.deleteCat(),n.context.deletePerson(),n.counter+=1);0===n.context.peopleList.length&&clearInterval(n.interval)},n.componentDidMount=function(){n.interval=setInterval(n.adoptTimer,5e3)},n}return Object(i.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"real-main-div"},l.a.createElement("h1",{class:"title"},"Petful - Adoption Agency"),l.a.createElement("div",{className:"main-div"},l.a.createElement(C,null),l.a.createElement(u.c,null,l.a.createElement(u.a,{exact:!0,path:"/",component:E}))))}}]),t}(s.Component));b.contextType=g;var x=b,j=n(22),y=n.n(j),P=n(15);y.a.render(l.a.createElement(P.a,null,l.a.createElement(D,null,l.a.createElement(x,null))),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.4277f384.chunk.js.map